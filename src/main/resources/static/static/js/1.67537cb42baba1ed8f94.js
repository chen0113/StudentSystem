webpackJsonp([1],{KpIP:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"page",data:function(){return{loading:!1,style:{height:window.innerHeight+"px"},dialogTitle:"",dialogFormVisible:!1,formLabelWidth:"120px",scoreList:[{studentId:"1",studentName:"dsaf",courseName:"fdsa ",score:"122"},{studentId:"34",studentName:"fdax",courseName:"fgff",score:"31"}],score:{studentId:"",studentName:"",courseName:"",score:""},searchData:{studentId:"",studentName:"",courseName:""},pageInfo:{total:100,pageSize:15,pageNum:1}}},methods:{handlePageChange:function(e){this.pageInfo.pageNum=e,this.getScoreList()},addStudent:function(){this.dialogFormVisible=!0,this.score={},this.dialogTitle="添加学生"},commitMessage:function(){var e=this;if("修改信息"===this.dialogTitle){this.loading=!0;var t=this.score;this._ajax("post","/score/updateScore",function(t){console.log(t),e.loading=!1,e.dialogFormVisible=!1,e._notify("成功","success","修改成功")},{},function(t){console.log(t),e.loading=!1,e.dialogFormVisible=!1,e._notify("警告","warning","修改失败")},function(t){console.log(t),e.loading=!1,e.dialogFormVisible=!1,e._notify("错误","error","请求错误")},t)}else{this.loading=!0;var o=this.score;this._ajax("post","/score/addScore",function(t){console.log(t),e.loading=!1,e.dialogFormVisible=!1,e._notify("成功","success","添加成功")},{},function(t){console.log(t),e.loading=!1,e.dialogFormVisible=!1,e._notify("警告","warning","添加失败")},function(t){console.log(t),e.loading=!1,e.dialogFormVisible=!1,e._notify("错误","error","请求错误")},o)}},updateStudent:function(e){this.dialogFormVisible=!0,this.score=e,this.dialogTitle="修改信息"},deleteStudent:function(e){var t=this;this._confirm("您确定删除它吗？",function(){var o=e,a=function(e){console.log(e),t._alert("删除成功！","success",2e3),t.getScoreList()};t._ajax("post","/score/deleteScore",a,{},function(e){console.log(e)},function(){},o)},function(){t._alert("已取消","info",2e3)})},search:function(){var e=this;if(""===this.searchData.studentId&&""===this.searchData.studentName&&""===this.searchData.courseName)this.getScoreList();else{var t=this.searchData;this._ajax("post","/score/getByStudent",function(t){console.log(t),e.scoreList=t.charData},{},function(t){console.log(t),e.scoreList=[]},function(){},t)}},examineAll:function(){this.searchData={}},getScoreList:function(){var e=this,t=this.pageInfo;this._ajax("get","/score/getAll",function(t){e.scoreList=t.charData.list,console.log(e.scoreList.length),e.pageInfo.pageSize=t.charData.pageSize,e.pageInfo.total=t.charData.total},t,function(e){console.log(e)},function(){})}},mounted:function(){console.log(this.platform),this.getScoreList()}},s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{style:e.style},[o("div",{staticStyle:{"margin-bottom":"25px"}},[o("i",{staticClass:"el-icon-plus"}),o("span",[e._v("添加")]),e._v(" "),o("div",{staticStyle:{"margin-top":"10px"}},[o("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.addStudent()}}},[e._v("添加")])],1)]),e._v(" "),o("div",[o("div",[o("i",{staticClass:"el-icon-search"}),o("span",[e._v("查询")]),e._v(" "),o("div",{staticClass:"searchContent",staticStyle:{"margin-top":"10px"}},[o("el-form",{attrs:{model:e.searchData,inline:""}},[o("el-form-item",{attrs:{label:"学号:"}},[o("el-input",{model:{value:e.searchData.studentId,callback:function(t){e.$set(e.searchData,"studentId","string"==typeof t?t.trim():t)},expression:"searchData.studentId"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"姓名:"}},[o("el-input",{model:{value:e.searchData.studentName,callback:function(t){e.$set(e.searchData,"studentName","string"==typeof t?t.trim():t)},expression:"searchData.studentName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"课程名:"}},[o("el-input",{model:{value:e.searchData.courseName,callback:function(t){e.$set(e.searchData,"courseName","string"==typeof t?t.trim():t)},expression:"searchData.courseName"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",plain:""},on:{click:e.search}},[e._v("查询")]),e._v(" "),o("el-button",{attrs:{type:"success",plain:""},on:{click:e.examineAll}},[e._v("重置")])],1)],1)],1)]),e._v(" "),e._m(0)]),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.scoreList,height:"100%"}},[o("el-table-column",{attrs:{fixed:"",prop:"studentId",label:"学号"}}),e._v(" "),o("el-table-column",{attrs:{fixed:"",prop:"studentName",label:"姓名"}}),e._v(" "),o("el-table-column",{attrs:{fixed:"",prop:"courseName",label:"课程名"}}),e._v(" "),o("el-table-column",{attrs:{fixed:"",prop:"score",label:"分数"}}),e._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.updateStudent(t.row)}}},[e._v("修改")]),e._v(" "),o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.deleteStudent(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.pageInfo.total,"page-size":e.pageInfo.pageSize,"current-page":e.pageInfo.pageNum},on:{"current-change":e.handlePageChange}}),e._v(" "),o("transition",{attrs:{name:"fade",mode:"out-in"}},[o("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:e.dialogTitle,visible:e.dialogFormVisible,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},["修改信息"===e.dialogTitle?o("div",[o("el-form",{attrs:{model:e.score}},[o("el-form-item",{attrs:{label:"学号","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"on",size:"normal",disabled:""},model:{value:e.score.studentId,callback:function(t){e.$set(e.score,"studentId",t)},expression:"score.studentId"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"on",disabled:""},model:{value:e.score.studentName,callback:function(t){e.$set(e.score,"studentName",t)},expression:"score.studentName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"课程名","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"on",disabled:""},model:{value:e.score.courseName,callback:function(t){e.$set(e.score,"courseName",t)},expression:"score.courseName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"分数","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"on"},model:{value:e.score.score,callback:function(t){e.$set(e.score,"score",t)},expression:"score.score"}})],1)],1)],1):o("div",[o("el-form",{attrs:{model:e.score}},[o("el-form-item",{attrs:{label:"学号","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"on",size:"normal"},model:{value:e.score.studentId,callback:function(t){e.$set(e.score,"studentId",t)},expression:"score.studentId"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"on"},model:{value:e.score.studentName,callback:function(t){e.$set(e.score,"studentName",t)},expression:"score.studentName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"课程名","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"on"},model:{value:e.score.courseName,callback:function(t){e.$set(e.score,"courseName",t)},expression:"score.courseName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"分数","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"on"},model:{value:e.score.score,callback:function(t){e.$set(e.score,"score",t)},expression:"score.score"}})],1)],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.commitMessage()}}},[e._v("确 定")])],1)])],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",[t("i",{staticClass:"el-icon-document"},[t("span",[this._v("学生列表")])])])])}]};var l=o("C7Lr")(a,s,!1,function(e){o("sbIE")},"data-v-7eacdb1e",null).exports;t.default=l},sbIE:function(e,t){}});
//# sourceMappingURL=1.67537cb42baba1ed8f94.js.map